# âœ… **CHECKLIST PRÃ‰-DESENVOLVIMENTO**

## ğŸ“‹ **Template de SolicitaÃ§Ã£o Ideal**

Para garantir implementaÃ§Ã£o consistente, toda solicitaÃ§Ã£o deve incluir:

```markdown
## Entidade: [Nome]

### Schema SQL:
[Schema completo com FKs e constraints]

### Dados Iniciais:
[Lista dos registros iniciais necessÃ¡rios]

### Endpoints NecessÃ¡rios:
- [ ] Apenas listagem de ativos (/ativos)
- [ ] CRUD completo
- [ ] Endpoints customizados: [especificar]

### Regras de NegÃ³cio:
- [Regra 1]
- [Regra 2]

### Relacionamentos:
- [Especificar se precisa de relacionamentos bidirecionais]
- [DTOs devem incluir objetos completos ou apenas IDs?]
```

---

## ğŸ” **Perguntas de ValidaÃ§Ã£o (Responder SIM/NÃƒO)**

### **ğŸ“Š Escopo & Complexidade**
1. â“ **Esta funcionalidade Ã© realmente necessÃ¡ria AGORA?**
2. â“ **Posso implementar de forma mais simples?**
3. â“ **Esta mudanÃ§a quebra a arquitetura existente?**
4. â“ **Preciso de CRUD completo ou apenas consulta?**

### **ğŸ—ï¸ ImplementaÃ§Ã£o TÃ©cnica**
5. â“ **Vou usar MapStruct para mapeamentos?**
6. â“ **Os relacionamentos JPA sÃ£o necessÃ¡rios ou posso usar apenas IDs?**
7. â“ **Esta entidade precisa de Ã­ndices especÃ­ficos?**
8. â“ **Vou seguir o padrÃ£o Entityâ†’DTOâ†’Mapperâ†’Repositoryâ†’Serviceâ†’Controller?**

### **ğŸ”’ SeguranÃ§a & Endpoints**
9. â“ **Esta funcionalidade precisa de autenticaÃ§Ã£o/autorizaÃ§Ã£o?**
10. â“ **Vou usar `@WithMockUser` nos testes de controller?**
11. â“ **O endpoint retorna objeto direto ou `ResponseEntity`?**
12. â“ **Preciso configurar validaÃ§Ãµes especÃ­ficas (@Valid, @NotNull, etc.)?**

### **ğŸ§ª Testes & Qualidade**
13. â“ **Vou criar testes para TODAS as camadas (Repository, Service, Controller)?**
14. â“ **Os testes incluem casos de erro e edge cases?**
15. â“ **Configurei UTF-8 em todas as partes necessÃ¡rias?**
16. â“ **Os logs estÃ£o usando `@Slf4j` com nÃ­veis apropriados?**

### **âš™ï¸ ConfiguraÃ§Ãµes & Deploy**
17. â“ **Preciso atualizar schema.sql e data.sql?**
18. â“ **Vou adicionar novas dependÃªncias no pom.xml?**
19. â“ **Esta mudanÃ§a afeta profiles do Spring (dev/test/prod)?**
20. â“ **Preciso atualizar documentaÃ§Ã£o ou READMEs?**

---

## ğŸ¯ **Regras de ValidaÃ§Ã£o AutomÃ¡tica**

### **ğŸš¨ BLOQUEADORES (Parar implementaÃ§Ã£o se TRUE)**
- **Se NÃƒO para 1**: Questionar necessidade real
- **Se NÃƒO para 5**: Usar MapStruct obrigatÃ³rio
- **Se NÃƒO para 8**: Seguir padrÃ£o arquitetural obrigatÃ³rio
- **Se NÃƒO para 13**: Testes sÃ£o obrigatÃ³rios

### **âš ï¸ ALERTAS (Revisar abordagem se TRUE)**
- **Se SIM para 3**: Revisar impacto arquitetural
- **Se SIM para 7**: Questionar se Ã­ndices sÃ£o necessÃ¡rios
- **Se SIM para 18-20**: Planejar impacto em outras partes

### **âœ… IMPLEMENTAÃ‡ÃƒO PADRÃƒO (Se nÃ£o especificado)**
- **Endpoints**: Apenas `/ativos` (GET)
- **DTOs**: Relacionamentos como IDs, nÃ£o objetos
- **Relacionamentos JPA**: `@ManyToOne` com `LAZY`
- **Testes**: Repository + Service + Controller
- **Logs**: `@Slf4j` com `debug` para operaÃ§Ãµes

---

## ğŸ“ **Exemplo de SolicitaÃ§Ã£o Completa**

```markdown
## Entidade: Linha

### Schema SQL:
CREATE TABLE linhas (
    id                  BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nome               VARCHAR(80) UNIQUE NOT NULL,
    orixa_regente_id   BIGINT NOT NULL,
    orixa_adjunto_id   BIGINT,
    descricao          TEXT NOT NULL,
    caracteristicas    TEXT,
    cores              VARCHAR(100),
    elementos_trabalho VARCHAR(200),
    numero_ordem       INTEGER,
    ativo              BOOLEAN DEFAULT TRUE,
    data_criacao       TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    
    FOREIGN KEY (orixa_regente_id) REFERENCES orixas(id),
    FOREIGN KEY (orixa_adjunto_id) REFERENCES orixas(id)
);

### Dados Iniciais:
- Linha de OxalÃ¡ (Pai de todos os OrixÃ¡s)
- Linha de IemanjÃ¡ (Rainha do Mar)
- Linha de Ogum (Guerreiro e Protetor)
- Linha de OxÃ³ssi (CaÃ§ador da Mata)
- Linha de XangÃ´ (Senhor da JustiÃ§a)  
- Linha de IansÃ£ (Senhora dos Ventos)
- Linha de Oxum (Senhora do Amor)

### Endpoints NecessÃ¡rios:
- [x] Apenas listagem de ativos (/ativos)
- [ ] CRUD completo

### Regras de NegÃ³cio:
- Uma linha deve ter SEMPRE um OrixÃ¡ regente
- OrixÃ¡ adjunto Ã© opcional
- Linhas inativas nÃ£o aparecem na listagem
- Ordem Ã© importante para exibiÃ§Ã£o

### Relacionamentos:
- DTO deve incluir apenas IDs dos OrixÃ¡s (orixaRegenteId, orixaAdjuntoId)
- NÃ£o precisa de relacionamento bidirecional
- JPA: @ManyToOne LAZY para os OrixÃ¡s

### ImplementaÃ§Ã£o:
Seguir guidelines padrÃ£o com Entityâ†’DTOâ†’Mapperâ†’Repositoryâ†’Serviceâ†’Controller
```

---

## ğŸ”„ **Fluxo de ImplementaÃ§Ã£o ObrigatÃ³rio**

1. **Validar** solicitaÃ§Ã£o com checklist
2. **Criar** schema.sql e data.sql
3. **Implementar** na ordem: Entity â†’ DTO â†’ Mapper â†’ Repository â†’ Service â†’ Controller
4. **Criar** testes para cada camada
5. **Executar** testes e corrigir encoding/charset issues
6. **Compilar** projeto completo
7. **Validar** endpoints via Swagger ou testes de integraÃ§Ã£o
